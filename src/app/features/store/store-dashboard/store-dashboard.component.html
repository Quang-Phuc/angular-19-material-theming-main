<div class="dashboard-content">

  <div class="kpi-grid">
    @for (card of kpiCards; track card.title) {
      <mat-card class="kpi-card" [ngClass]="'kpi-' + card.color">
        <mat-card-header>
          <mat-card-title>{{ card.title }}</mat-card-title>
          <mat-icon class="kpi-icon">{{ card.icon }}</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <h2>{{ card.value }}</h2>
          <div class="kpi-change" [ngClass]="card.isPositive ? 'positive' : 'negative'">
            <mat-icon>{{ card.isPositive ? 'arrow_upward' : 'arrow_downward' }}</mat-icon>
            <span>{{ card.percent }}% so với tháng trước</span>
          </div>
        </mat-card-content>
      </mat-card>
    }
  </div>

  <div class="charts-grid">
    <mat-card class="chart-card large-card">
      <mat-card-header>
        <mat-card-title>Biểu đồ dòng tiền</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <img src="https://via.placeholder.com/800x300?text=Biểu+Đồ+Dòng+Tiền+(Tiệm)" alt="Biểu đồ doanh thu">
      </mat-card-content>
    </mat-card>

    <mat-card class="activity-card">
      <mat-card-header>
        <mat-card-title>Hoạt động Gần đây (Tiệm)</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-list>
          @for (activity of recentActivities; track $index) {
            <mat-list-item>
              <mat-icon matListItemIcon>notifications_active</mat-icon>
              <div matListItemTitle><strong>{{ activity.user }}</strong> {{ activity.action }}</div>
              <div matListItemLine>{{ activity.time }}</div>
            </mat-list-item>
          }
        </mat-list>
      </mat-card-content>
    </mat-card>
  </div>

</div>
