<h2 mat-dialog-title>
  <mat-icon>edit_note</mat-icon>
  Cập nhật Lịch sử Mua (Admin)
</h2>
<div mat-dialog-content class="dialog-content">

  <div class="static-info">
    <dl>
      <dt>Mã Gói</dt>
      <dd>{{ data.packageCode }}</dd>

      <dt>Tên Gói</dt>
      <dd>{{ data.packageName }}</dd>

      <dt>Ngày Mua</dt>
      <dd>{{ data.purchaseDate | date:'dd/MM/yyyy HH:mm:ss' }}</dd>

      <dt>Số Tiền</dt>
      <dd>{{ data.amountPaid | currency:'VND':'symbol':'1.0-0' }}</dd>
    </dl>
  </div>

  <form [formGroup]="adminForm" class="admin-form">

    <mat-form-field appearance="outline">
      <mat-label>Trạng thái</mat-label>
      <mat-select formControlName="status">
        @for (status of statuses; track status.value) {
          <mat-option [value]="status.value">{{ status.viewValue }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Ghi chú (Note)</mat-label>
      <textarea matInput
                formControlName="note"
                rows="4"
                placeholder="Thêm ghi chú của admin...">
      </textarea>
    </mat-form-field>

  </form>

</div>
<div mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Hủy</button>
  <button mat-flat-button color="primary" (click)="onSave()" [disabled]="adminForm.invalid || adminForm.pristine">
    Lưu
  </button>
</div>
